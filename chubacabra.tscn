[gd_scene load_steps=69 format=3 uid="uid://bv6nmywn88rro"]

[ext_resource type="Script" path="res://chubacabra.gd" id="1_v3ton"]
[ext_resource type="Script" path="res://finite_state_machine.gd" id="2_6wyqj"]
[ext_resource type="Script" path="res://idle.gd" id="3_k2l71"]
[ext_resource type="Script" path="res://Chupacabra_New/follow_new.gd" id="4_pcgi0"]
[ext_resource type="Script" path="res://Chupacabra_New/slash_new.gd" id="5_2nckk"]
[ext_resource type="Script" path="res://Chupacabra_New/roar_new.gd" id="6_asvgl"]
[ext_resource type="Script" path="res://Chupacabra_New/dash_new.gd" id="7_crbeg"]
[ext_resource type="AudioStream" uid="uid://ck470oi82amrq" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/Chupacabra WAVs/Chupacabra Melee.wav" id="8_kq3pa"]
[ext_resource type="AudioStream" uid="uid://dw78p3tvxp6h7" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/Chupacabra WAVs/Chupacabra Charge Attack.wav" id="9_37tqw"]
[ext_resource type="AudioStream" uid="uid://cpy11a7gp87wo" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/Chupacabra WAVs/Chupacabra Spawn Roar.wav" id="10_rn2op"]
[ext_resource type="AudioStream" uid="uid://w6dy5jvvtetp" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/Chupacabra WAVs/Chupacabra Footstep 1.wav" id="11_elnpn"]
[ext_resource type="AudioStream" uid="uid://ca4pku0fajlrh" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/Chupacabra WAVs/Chupacabra Footstep 2.wav" id="12_t8rkb"]
[ext_resource type="Texture2D" uid="uid://bw3rex6kmr3d4" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0000.png" id="13_61nub"]
[ext_resource type="Texture2D" uid="uid://2n0wcwubq6g6" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0001.png" id="14_qln40"]
[ext_resource type="Texture2D" uid="uid://xjj2qcxu27sa" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0002.png" id="15_tkogp"]
[ext_resource type="Texture2D" uid="uid://dpv135m6ir87k" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0003.png" id="16_17tms"]
[ext_resource type="Texture2D" uid="uid://bsxqdlkbd5pn1" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0004.png" id="17_aso8b"]
[ext_resource type="Texture2D" uid="uid://bdpasp8f0que4" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0005.png" id="18_vd80w"]
[ext_resource type="Texture2D" uid="uid://ds4kvtocl7vrk" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0006.png" id="19_3l84d"]
[ext_resource type="Texture2D" uid="uid://dd5yp8li75xgy" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0007.png" id="20_ht7l4"]
[ext_resource type="Texture2D" uid="uid://dryi6rbngenqj" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0008.png" id="21_h6qow"]
[ext_resource type="Texture2D" uid="uid://d3bohcgu40daw" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0009.png" id="22_r88rb"]
[ext_resource type="Texture2D" uid="uid://dtpgmwkh67df4" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0010.png" id="23_vv2ck"]
[ext_resource type="Texture2D" uid="uid://ce4spf4iuu4ys" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0011.png" id="24_s8rot"]
[ext_resource type="Texture2D" uid="uid://cn0s177qq77g7" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0012.png" id="25_0lek5"]
[ext_resource type="Texture2D" uid="uid://d00a3bdj51mq2" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0013.png" id="26_m7bp6"]
[ext_resource type="Texture2D" uid="uid://crlir1658tiyj" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0014.png" id="27_8a0ua"]
[ext_resource type="Texture2D" uid="uid://b43nuf33pl83y" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0015.png" id="28_w8e2b"]
[ext_resource type="Texture2D" uid="uid://cde5fppiisg03" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0016.png" id="29_lj588"]
[ext_resource type="Texture2D" uid="uid://dkoyac5x1in6t" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0017.png" id="30_mxtec"]
[ext_resource type="Texture2D" uid="uid://b5yj8nmyjasd0" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0018.png" id="31_06fdt"]
[ext_resource type="Texture2D" uid="uid://d1r0tfx5pwfjt" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0019.png" id="32_1bg86"]
[ext_resource type="Texture2D" uid="uid://cr8g3rkh6gtuf" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0020.png" id="33_ociou"]
[ext_resource type="Texture2D" uid="uid://bqm0vm40r8xmb" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubacharge/chubacharge_0021.png" id="34_2bq4a"]
[ext_resource type="Texture2D" uid="uid://bjyvwia30ofoh" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/chubamove_0000.png" id="35_ypp27"]
[ext_resource type="Texture2D" uid="uid://id58w0ruvwwt" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/chubamove_0001.png" id="36_mlxe8"]
[ext_resource type="Texture2D" uid="uid://d261uo74f6a01" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/chubamove_0002.png" id="37_sqkex"]
[ext_resource type="Texture2D" uid="uid://ocjpwyp8g5eg" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/chubamove_0003.png" id="38_0xv6a"]
[ext_resource type="Texture2D" uid="uid://mkhlo8mjfy8q" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubamove/chubamove_0004.png" id="39_3v3rw"]
[ext_resource type="Texture2D" uid="uid://db4s24m0yrcwu" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0000.png" id="40_ialq2"]
[ext_resource type="Texture2D" uid="uid://dhsbh0buctk1l" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0001.png" id="41_3iol1"]
[ext_resource type="Texture2D" uid="uid://caiv3rurrma83" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0002.png" id="42_nh266"]
[ext_resource type="Texture2D" uid="uid://b0j76xwaqp8ar" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0003.png" id="43_pbyvk"]
[ext_resource type="Texture2D" uid="uid://v12vkfea2tyb" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0004.png" id="44_o4ip5"]
[ext_resource type="Texture2D" uid="uid://8nqr3tie1xed" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0005.png" id="45_rt8si"]
[ext_resource type="Texture2D" uid="uid://c28rne7guqmu" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0006.png" id="46_pprdm"]
[ext_resource type="Texture2D" uid="uid://dyt4xkrjoweoq" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0007.png" id="47_hbihl"]
[ext_resource type="Texture2D" uid="uid://s4ild8w2dghn" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0008.png" id="48_c0mc0"]
[ext_resource type="Texture2D" uid="uid://cmil4o6lvpbhg" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0009.png" id="49_y6oiu"]
[ext_resource type="Texture2D" uid="uid://b02hv30f7udl7" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0010.png" id="50_gq8km"]
[ext_resource type="Texture2D" uid="uid://h07dyf8luqlc" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0011.png" id="51_uak1p"]
[ext_resource type="Texture2D" uid="uid://chrpe54sopki3" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0012.png" id="52_a4xbu"]
[ext_resource type="Texture2D" uid="uid://bly0ywnk5trs4" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaroar/chubaroar_0013.png" id="53_4gvk4"]
[ext_resource type="Texture2D" uid="uid://bnkje20b04rhh" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0000.png" id="54_vw744"]
[ext_resource type="Texture2D" uid="uid://bp3u0o1birls7" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0001.png" id="55_fruow"]
[ext_resource type="Texture2D" uid="uid://db51fqu8vy6yt" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0002.png" id="56_8o8ja"]
[ext_resource type="Texture2D" uid="uid://crc0e4hgg3v1d" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0003.png" id="57_av3yo"]
[ext_resource type="Texture2D" uid="uid://df5l0qepr8u2a" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0004.png" id="58_jv3kq"]
[ext_resource type="Texture2D" uid="uid://nsb2r0tc1shr" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0005.png" id="59_jdlfy"]
[ext_resource type="Texture2D" uid="uid://0u7i0arn5xtn" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0006.png" id="60_0rxit"]
[ext_resource type="Texture2D" uid="uid://dej7wtob3qrt3" path="res://Chupacabra_New/chupacabra/chupacabra_anims/chubaslash/chubaslash_0007.png" id="61_7guq4"]
[ext_resource type="AudioStream" uid="uid://dsrm2aa5uh5s5" path="res://Assets/Sound/Chupacabra WAVs/Chupacabra WAVs/Chupacabra Death.wav" id="62_lnfq4"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_d14ql"]
bg_color = Color(0.267491, 0, 0.0169396, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_l150d"]
bg_color = Color(0.810923, 0, 0.244318, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_drkii"]
size = Vector2(100, 72)

[sub_resource type="CircleShape2D" id="CircleShape2D_agv6m"]
radius = 80.0062

[sub_resource type="CircleShape2D" id="CircleShape2D_5i42r"]
radius = 19.753

[sub_resource type="SpriteFrames" id="SpriteFrames_txapw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_61nub")
}, {
"duration": 1.0,
"texture": ExtResource("14_qln40")
}, {
"duration": 1.0,
"texture": ExtResource("15_tkogp")
}, {
"duration": 1.0,
"texture": ExtResource("16_17tms")
}, {
"duration": 1.0,
"texture": ExtResource("17_aso8b")
}, {
"duration": 1.0,
"texture": ExtResource("18_vd80w")
}, {
"duration": 2.0,
"texture": ExtResource("19_3l84d")
}, {
"duration": 2.0,
"texture": ExtResource("20_ht7l4")
}, {
"duration": 1.0,
"texture": ExtResource("21_h6qow")
}, {
"duration": 1.0,
"texture": ExtResource("22_r88rb")
}, {
"duration": 1.0,
"texture": ExtResource("23_vv2ck")
}, {
"duration": 1.0,
"texture": ExtResource("24_s8rot")
}, {
"duration": 1.0,
"texture": ExtResource("25_0lek5")
}, {
"duration": 1.0,
"texture": ExtResource("26_m7bp6")
}, {
"duration": 1.0,
"texture": ExtResource("27_8a0ua")
}, {
"duration": 1.0,
"texture": ExtResource("28_w8e2b")
}, {
"duration": 1.0,
"texture": ExtResource("29_lj588")
}, {
"duration": 1.0,
"texture": ExtResource("30_mxtec")
}, {
"duration": 1.0,
"texture": ExtResource("31_06fdt")
}, {
"duration": 1.0,
"texture": ExtResource("32_1bg86")
}, {
"duration": 1.0,
"texture": ExtResource("33_ociou")
}, {
"duration": 1.0,
"texture": ExtResource("34_2bq4a")
}],
"loop": false,
"name": &"dash",
"speed": 11.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("35_ypp27")
}, {
"duration": 1.0,
"texture": ExtResource("36_mlxe8")
}, {
"duration": 1.0,
"texture": ExtResource("37_sqkex")
}, {
"duration": 1.0,
"texture": ExtResource("38_0xv6a")
}, {
"duration": 1.0,
"texture": ExtResource("39_3v3rw")
}],
"loop": true,
"name": &"follow",
"speed": 9.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("40_ialq2")
}, {
"duration": 1.0,
"texture": ExtResource("41_3iol1")
}, {
"duration": 1.0,
"texture": ExtResource("42_nh266")
}, {
"duration": 1.0,
"texture": ExtResource("43_pbyvk")
}, {
"duration": 1.0,
"texture": ExtResource("44_o4ip5")
}, {
"duration": 1.0,
"texture": ExtResource("45_rt8si")
}, {
"duration": 1.0,
"texture": ExtResource("46_pprdm")
}, {
"duration": 1.0,
"texture": ExtResource("47_hbihl")
}, {
"duration": 1.0,
"texture": ExtResource("48_c0mc0")
}, {
"duration": 1.0,
"texture": ExtResource("49_y6oiu")
}, {
"duration": 1.0,
"texture": ExtResource("50_gq8km")
}, {
"duration": 1.0,
"texture": ExtResource("51_uak1p")
}, {
"duration": 1.0,
"texture": ExtResource("52_a4xbu")
}, {
"duration": 1.0,
"texture": ExtResource("53_4gvk4")
}],
"loop": false,
"name": &"roar",
"speed": 10.0
}, {
"frames": [{
"duration": 2.0,
"texture": ExtResource("54_vw744")
}, {
"duration": 0.75,
"texture": ExtResource("55_fruow")
}, {
"duration": 0.75,
"texture": ExtResource("56_8o8ja")
}, {
"duration": 0.75,
"texture": ExtResource("57_av3yo")
}, {
"duration": 0.75,
"texture": ExtResource("58_jv3kq")
}, {
"duration": 0.75,
"texture": ExtResource("59_jdlfy")
}, {
"duration": 1.0,
"texture": ExtResource("60_0rxit")
}, {
"duration": 2.0,
"texture": ExtResource("61_7guq4")
}],
"loop": false,
"name": &"slash",
"speed": 16.0
}]

[node name="ChubacabraBoss" type="CharacterBody2D" groups=["boss"]]
collision_layer = 2
collision_mask = 3
script = ExtResource("1_v3ton")

[node name="Boss_UI" type="CanvasLayer" parent="."]

[node name="ProgressBar" type="ProgressBar" parent="Boss_UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -261.0
offset_top = -77.0
offset_right = 262.0
offset_bottom = -50.0
grow_horizontal = 2
grow_vertical = 0
theme_override_styles/background = SubResource("StyleBoxFlat_d14ql")
theme_override_styles/fill = SubResource("StyleBoxFlat_l150d")
show_percentage = false

[node name="Label" type="Label" parent="Boss_UI/ProgressBar"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.494264
anchor_top = -1.11111
anchor_right = 0.494264
anchor_bottom = -1.11111
offset_left = -46.5
offset_right = 47.5
offset_bottom = 23.0
grow_horizontal = 2
text = "Chubacabra"
metadata/_edit_use_anchors_ = true

[node name="Debug" type="Label" parent="."]
offset_left = -29.0
offset_top = -48.0
offset_right = 20.0
offset_bottom = -25.0
text = "debug"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(1, 24)
shape = SubResource("RectangleShape2D_drkii")

[node name="SlashArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SlashArea"]
position = Vector2(0, 24)
shape = SubResource("CircleShape2D_agv6m")

[node name="PlayerDetection" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerDetection"]
position = Vector2(9.53674e-07, 25)
scale = Vector2(21.7709, 22.0507)
shape = SubResource("CircleShape2D_5i42r")

[node name="FiniteStateMachine" type="Node2D" parent="."]
script = ExtResource("2_6wyqj")

[node name="Idle" type="Node2D" parent="FiniteStateMachine"]
script = ExtResource("3_k2l71")

[node name="Follow" type="Node2D" parent="FiniteStateMachine"]
script = ExtResource("4_pcgi0")

[node name="Slash" type="Node2D" parent="FiniteStateMachine" groups=["boss"]]
script = ExtResource("5_2nckk")

[node name="Roar" type="Node2D" parent="FiniteStateMachine"]
script = ExtResource("6_asvgl")

[node name="Dash" type="Node2D" parent="FiniteStateMachine"]
script = ExtResource("7_crbeg")

[node name="Chupacabra_Slash" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("8_kq3pa")

[node name="Chupacabra_Charge" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_37tqw")

[node name="Chupacabra_Roar" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("10_rn2op")

[node name="Chupacabra_Run_1" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("11_elnpn")

[node name="Chupacabra_Run_2" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("12_t8rkb")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_txapw")
animation = &"dash"

[node name="Chupacabra_Death" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("62_lnfq4")

[connection signal="body_entered" from="SlashArea" to="FiniteStateMachine/Follow" method="_on_slash_area_body_entered"]
[connection signal="body_entered" from="SlashArea" to="FiniteStateMachine/Slash" method="_on_slash_area_body_entered"]
[connection signal="body_exited" from="SlashArea" to="FiniteStateMachine/Follow" method="_on_slash_area_body_exited"]
[connection signal="body_exited" from="SlashArea" to="FiniteStateMachine/Slash" method="_on_slash_area_body_exited"]
[connection signal="body_entered" from="PlayerDetection" to="FiniteStateMachine/Idle" method="_on_player_detection_body_entered"]
